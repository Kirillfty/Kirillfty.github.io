<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sugar Crash Casino Slot</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        #app {
            width: 100%;
            max-width: 800px;
            background: rgba(25, 25, 40, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 2px solid #ff4081;
            position: relative;
            overflow: hidden;
        }
        
        /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .candy-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255, 64, 129, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(0, 230, 118, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .game-title {
            font-size: 3.5rem;
            background: linear-gradient(45deg, #ff4081, #ffd700, #00e676);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(255, 64, 129, 0.3);
            margin-bottom: 10px;
            font-weight: 900;
            letter-spacing: 2px;
        }
        
        .game-subtitle {
            color: #ffd700;
            font-size: 1.2rem;
            font-weight: 300;
            letter-spacing: 1px;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–≥—Ä—ã */
        .game-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            position: relative;
            z-index: 1;
        }
        
        /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
        .game-board {
            background: rgba(30, 30, 46, 0.9);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255, 64, 129, 0.3);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        /* –ú–Ω–æ–∂–∏—Ç–µ–ª—å */
        .multiplier-display {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 2px solid #ff4081;
        }
        
        .multiplier-label {
            color: #ffd700;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .multiplier-value {
            font-size: 4.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ff4081, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(255, 64, 129, 0.5);
            transition: transform 0.3s;
        }
        
        .multiplier-value.animating {
            animation: pulse 0.5s ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        /* –ì—Ä–∞—Ñ–∏–∫ */
        .chart-container {
            height: 200px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            margin-bottom: 25px;
            padding: 15px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 64, 129, 0.2);
        }
        
        .chart-line {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff4081, #ffd700, #00e676, transparent);
            transition: height 0.3s;
        }
        
        .chart-crash-point {
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            color: #ff4081;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.8);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 1.1rem;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –∏–≥—Ä—ã */
        .play-button {
            width: 100%;
            padding: 22px;
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ff4081, #ffd700);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 10px 20px rgba(255, 64, 129, 0.3);
            margin-bottom: 20px;
        }
        
        .play-button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(255, 64, 129, 0.4);
        }
        
        .play-button:active:not(:disabled) {
            transform: translateY(1px);
        }
        
        .play-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background: linear-gradient(45deg, #666, #888);
        }
        
        /* –ê–≤—Ç–æ–≤—ã–≤–æ–¥ */
        .auto-cashout {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .auto-cashout input {
            flex: 1;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 64, 129, 0.5);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
        }
        
        .auto-cashout button {
            padding: 12px 20px;
            background: linear-gradient(45deg, #00e676, #00c853);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .auto-cashout button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 230, 118, 0.3);
        }
        
        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .control-panel {
            background: rgba(30, 30, 46, 0.9);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats {
            margin-bottom: 25px;
        }
        
        .stats h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 8px;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            transition: background 0.3s;
        }
        
        .stat-item:hover {
            background: rgba(255, 64, 129, 0.1);
        }
        
        .stat-value {
            color: #ffd700;
            font-weight: bold;
        }
        
        .stat-value.profit {
            color: #00e676;
        }
        
        .stat-value.loss {
            color: #ff4081;
        }
        
        /* –°—Ç–∞–≤–∫–∞ */
        .bet-control {
            margin-bottom: 25px;
        }
        
        .bet-control h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .bet-amount {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .bet-input {
            flex: 1;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #ff4081;
            border-radius: 10px;
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
        }
        
        .bet-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .bet-button {
            padding: 12px;
            background: linear-gradient(45deg, #2196f3, #0d8bf2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .bet-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        }
        
        .bet-button.active {
            background: linear-gradient(45deg, #ff4081, #ffd700);
            box-shadow: 0 0 20px rgba(255, 64, 129, 0.5);
        }
        
        /* –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä—ã */
        .game-history {
            margin-top: 25px;
        }
        
        .game-history h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .history-list {
            max-height: 200px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 4px solid;
            transition: all 0.3s;
        }
        
        .history-item.win {
            border-left-color: #00e676;
            background: rgba(0, 230, 118, 0.1);
        }
        
        .history-item.loss {
            border-left-color: #ff4081;
            background: rgba(255, 64, 129, 0.1);
        }
        
        .history-multiplier {
            font-weight: bold;
            color: #ffd700;
        }
        
        .history-profit {
            font-weight: bold;
        }
        
        .history-profit.positive {
            color: #00e676;
        }
        
        .history-profit.negative {
            color: #ff4081;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid #ff4081;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }
        
        .modal-title {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #ff4081, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
        }
        
        .modal-message {
            font-size: 1.3rem;
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .modal-profit {
            font-size: 3rem;
            font-weight: 900;
            color: #ffd700;
            margin: 20px 0;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .modal-button {
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 150px;
        }
        
        .modal-button.primary {
            background: linear-gradient(45deg, #ff4081, #ffd700);
            color: white;
        }
        
        .modal-button.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid #ff4081;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes crashAnimation {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(0.5); opacity: 0; }
        }
        
        @keyframes confetti {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(1000px) rotate(360deg); opacity: 0; }
        }
        
        .crash-animation {
            animation: crashAnimation 1s ease-out forwards;
        }
        
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: linear-gradient(45deg, #ff4081, #ffd700, #00e676, #2196f3);
            opacity: 0;
            z-index: 100;
            pointer-events: none;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 900px) {
            .game-container {
                grid-template-columns: 1fr;
            }
            
            .game-title {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 600px) {
            #app {
                padding: 20px;
            }
            
            .game-title {
                font-size: 2rem;
            }
            
            .bet-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #ff4081, #ffd700);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #ff4081, #00e676);
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- –§–æ–Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
        <div class="candy-bg"></div>
        
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <h1 class="game-title">SUGAR CRASH</h1>
            <div class="game-subtitle">CRASH CASINO SLOT</div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
        <div class="game-container">
            <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
            <div class="game-board">
                <!-- –ú–Ω–æ–∂–∏—Ç–µ–ª—å -->
                <div class="multiplier-display">
                    <div class="multiplier-label">–¢–ï–ö–£–©–ò–ô –ú–ù–û–ñ–ò–¢–ï–õ–¨</div>
                    <div class="multiplier-value" :class="{ animating: multiplierAnimation }">
                        {{ currentMultiplier.toFixed(2) }}x
                    </div>
                </div>
                
                <!-- –ì—Ä–∞—Ñ–∏–∫ -->
                <div class="chart-container" @click="simulateCrash">
                    <div class="chart-line" :style="{ height: chartHeight + '%' }"></div>
                    <div class="chart-crash-point" v-if="crashed">
                        CRASH! {{ crashPoint.toFixed(2) }}x
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –∏–≥—Ä—ã -->
                <button 
                    class="play-button" 
                    @click="startGame"
                    :disabled="gameActive || balance < betAmount"
                >
                    <template v-if="gameActive">
                        <i class="fas fa-running"></i> –ò–ì–†–ê –ò–î–ï–¢...
                    </template>
                    <template v-else-if="balance < betAmount">
                        <i class="fas fa-exclamation-triangle"></i> –ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í
                    </template>
                    <template v-else>
                        <i class="fas fa-play"></i> –ù–ê–ß–ê–¢–¨ –ò–ì–†–£
                    </template>
                </button>
                
                <!-- –ê–≤—Ç–æ–≤—ã–≤–æ–¥ -->
                <div class="auto-cashout">
                    <input 
                        type="number" 
                        v-model.number="autoCashoutValue" 
                        placeholder="–ê–≤—Ç–æ–≤—ã–≤–æ–¥ (–º–Ω–æ–∂–∏—Ç–µ–ª—å)"
                        step="0.1"
                        min="1.1"
                        max="100"
                    >
                    <button @click="setAutoCashout">
                        <i class="fas fa-robot"></i> –£–°–¢–ê–ù–û–í–ò–¢–¨
                    </button>
                </div>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="control-panel">
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats">
                    <h3><i class="fas fa-chart-line"></i> –°–¢–ê–¢–ò–°–¢–ò–ö–ê</h3>
                    
                    <div class="stat-item">
                        <span>–ë–∞–ª–∞–Ω—Å:</span>
                        <span class="stat-value" :class="{ profit: balance > 1000, loss: balance < 1000 }">
                            {{ balance.toFixed(2) }} ‚ÇΩ
                        </span>
                    </div>
                    
                    <div class="stat-item">
                        <span>–°—Ç–∞–≤–∫–∞:</span>
                        <span class="stat-value">{{ betAmount.toFixed(2) }} ‚ÇΩ</span>
                    </div>
                    
                    <div class="stat-item">
                        <span>–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à:</span>
                        <span class="stat-value profit">
                            {{ (betAmount * currentMultiplier).toFixed(2) }} ‚ÇΩ
                        </span>
                    </div>
                    
                    <div class="stat-item">
                        <span>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å:</span>
                        <span class="stat-value">{{ maxMultiplier.toFixed(2) }}x</span>
                    </div>
                    
                    <div class="stat-item">
                        <span>–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ:</span>
                        <span class="stat-value">{{ gamesPlayed }}</span>
                    </div>
                    
                    <div class="stat-item">
                        <span>–í—ã–∏–≥—Ä–∞–Ω–æ/–ü—Ä–æ–∏–≥—Ä–∞–Ω–æ:</span>
                        <span class="stat-value" :class="{ profit: totalProfit > 0, loss: totalProfit < 0 }">
                            {{ totalProfit.toFixed(2) }} ‚ÇΩ
                        </span>
                    </div>
                </div>
                
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–æ–π -->
                <div class="bet-control">
                    <h3><i class="fas fa-coins"></i> –°–¢–ê–í–ö–ê</h3>
                    
                    <div class="bet-amount">
                        <input 
                            type="number" 
                            class="bet-input" 
                            v-model.number="betAmount"
                            min="10"
                            max="10000"
                            step="10"
                        >
                        <button 
                            class="bet-button"
                            @click="betAmount = Math.min(balance, 10000)"
                        >
                            MAX
                        </button>
                    </div>
                    
                    <div class="bet-buttons">
                        <button 
                            class="bet-button" 
                            :class="{ active: betAmount === 100 }"
                            @click="setBetAmount(100)"
                        >
                            100 ‚ÇΩ
                        </button>
                        <button 
                            class="bet-button" 
                            :class="{ active: betAmount === 500 }"
                            @click="setBetAmount(500)"
                        >
                            500 ‚ÇΩ
                        </button>
                        <button 
                            class="bet-button" 
                            :class="{ active: betAmount === 1000 }"
                            @click="setBetAmount(1000)"
                        >
                            1000 ‚ÇΩ
                        </button>
                        <button 
                            class="bet-button" 
                            :class="{ active: betAmount === 2500 }"
                            @click="setBetAmount(2500)"
                        >
                            2500 ‚ÇΩ
                        </button>
                        <button 
                            class="bet-button" 
                            :class="{ active: betAmount === 5000 }"
                            @click="setBetAmount(5000)"
                        >
                            5000 ‚ÇΩ
                        </button>
                        <button 
                            class="bet-button" 
                            :class="{ active: betAmount === 10000 }"
                            @click="setBetAmount(10000)"
                        >
                            10000 ‚ÇΩ
                        </button>
                    </div>
                </div>
                
                <!-- –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä—ã -->
                <div class="game-history">
                    <h3><i class="fas fa-history"></i> –ò–°–¢–û–†–ò–Ø –ò–ì–†</h3>
                    
                    <div class="history-list">
                        <div 
                            v-for="(game, index) in gameHistory.slice().reverse()" 
                            :key="index"
                            class="history-item"
                            :class="{ win: game.profit > 0, loss: game.profit <= 0 }"
                        >
                            <div>
                                <div class="history-multiplier">{{ game.multiplier.toFixed(2) }}x</div>
                                <small>{{ game.time }}</small>
                            </div>
                            <div class="history-profit" :class="{ positive: game.profit > 0, negative: game.profit <= 0 }">
                                {{ game.profit > 0 ? '+' : '' }}{{ game.profit.toFixed(2) }} ‚ÇΩ
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
        <div class="modal-overlay" v-if="showResultModal">
            <div class="modal-content">
                <h2 class="modal-title" v-if="lastGameProfit > 0">
                    –ü–û–ë–ï–î–ê! üéâ
                </h2>
                <h2 class="modal-title" v-else>
                    –ö–†–ê–®! üí•
                </h2>
                
                <div class="modal-message" v-if="lastGameProfit > 0">
                    –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—ç—à–∏–ª–∏—Å—å –Ω–∞ {{ lastGameMultiplier.toFixed(2) }}x!
                </div>
                <div class="modal-message" v-else>
                    –ò–≥—Ä–∞ –∫—Ä–∞—à–Ω—É–ª–∞—Å—å –Ω–∞ {{ lastGameMultiplier.toFixed(2) }}x
                </div>
                
                <div class="modal-profit">
                    {{ lastGameProfit > 0 ? '+' : '' }}{{ lastGameProfit.toFixed(2) }} ‚ÇΩ
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-button primary" @click="showResultModal = false">
                        –ü–†–û–î–û–õ–ñ–ò–¢–¨
                    </button>
                    <button class="modal-button secondary" @click="resetGame">
                        –ù–û–í–ê–Ø –ò–ì–†–ê
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
        <div v-if="showConfetti" class="confetti-overlay"></div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, watch } = Vue;
        
        createApp({
            setup() {
                // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
                const balance = ref(1000.00);
                const betAmount = ref(100.00);
                const gameActive = ref(false);
                const crashed = ref(false);
                const currentMultiplier = ref(1.00);
                const crashPoint = ref(0);
                const chartHeight = ref(0);
                const multiplierAnimation = ref(false);
                
                // –ê–≤—Ç–æ–≤—ã–≤–æ–¥
                const autoCashoutValue = ref(2.00);
                const autoCashoutActive = ref(false);
                
                // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                const gamesPlayed = ref(0);
                const maxMultiplier = ref(0);
                const totalProfit = ref(0);
                
                // –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä
                const gameHistory = ref([]);
                
                // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                const showResultModal = ref(false);
                const lastGameProfit = ref(0);
                const lastGameMultiplier = ref(0);
                
                // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
                const showConfetti = ref(false);
                
                // –¢–∞–π–º–µ—Ä—ã
                let gameInterval;
                let crashTimeout;
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                onMounted(() => {
                    loadGameState();
                });
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                const saveGameState = () => {
                    const gameState = {
                        balance: balance.value,
                        betAmount: betAmount.value,
                        gamesPlayed: gamesPlayed.value,
                        maxMultiplier: maxMultiplier.value,
                        totalProfit: totalProfit.value,
                        gameHistory: gameHistory.value.slice(-50) // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –∏–≥—Ä
                    };
                    localStorage.setItem('sugarCrashGame', JSON.stringify(gameState));
                };
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                const loadGameState = () => {
                    const savedState = localStorage.getItem('sugarCrashGame');
                    if (savedState) {
                        const state = JSON.parse(savedState);
                        balance.value = state.balance || 1000;
                        betAmount.value = state.betAmount || 100;
                        gamesPlayed.value = state.gamesPlayed || 0;
                        maxMultiplier.value = state.maxMultiplier || 0;
                        totalProfit.value = state.totalProfit || 0;
                        gameHistory.value = state.gameHistory || [];
                    }
                };
                
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—á–∫–∏ –∫—Ä–∞—à–∞
                const generateCrashPoint = () => {
                    // –ê–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–∞—à–∞ (–ø–æ—Ö–æ–∂–∏–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ crash –∏–≥—Ä—ã)
                    const rand = Math.random();
                    
                    // 70% —à–∞–Ω—Å –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–æ 2x
                    // 20% —à–∞–Ω—Å –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–æ 5x
                    // 9% —à–∞–Ω—Å –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–æ 10x
                    // 1% —à–∞–Ω—Å –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–æ 100x
                    
                    if (rand < 0.70) {
                        return 1 + Math.random(); // 1.00 - 2.00
                    } else if (rand < 0.90) {
                        return 2 + Math.random() * 3; // 2.00 - 5.00
                    } else if (rand < 0.99) {
                        return 5 + Math.random() * 5; // 5.00 - 10.00
                    } else {
                        return 10 + Math.random() * 90; // 10.00 - 100.00
                    }
                };
                
                // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
                const startGame = () => {
                    if (gameActive.value || balance.value < betAmount.value) return;
                    
                    // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
                    gameActive.value = true;
                    crashed.value = false;
                    currentMultiplier.value = 1.00;
                    chartHeight.value = 0;
                    autoCashoutActive.value = false;
                    
                    // –°–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞–≤–∫–∏
                    balance.value -= betAmount.value;
                    
                    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—á–∫–∏ –∫—Ä–∞—à–∞
                    crashPoint.value = generateCrashPoint();
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è
                    if (crashPoint.value > maxMultiplier.value) {
                        maxMultiplier.value = crashPoint.value;
                    }
                    
                    // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
                    let multiplierSpeed = 0.02; // –ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞
                    
                    gameInterval = setInterval(() => {
                        if (!gameActive.value) return;
                        
                        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
                        multiplierSpeed += 0.0005;
                        
                        // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å
                        currentMultiplier.value += multiplierSpeed;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã—Å–æ—Ç—É –≥—Ä–∞—Ñ–∏–∫–∞
                        chartHeight.value = Math.min((currentMultiplier.value / crashPoint.value) * 100, 100);
                        
                        // –ê–Ω–∏–º–∞—Ü–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª—è
                        multiplierAnimation.value = true;
                        setTimeout(() => multiplierAnimation.value = false, 50);
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ–≤—ã–≤–æ–¥
                        if (autoCashoutActive.value && currentMultiplier.value >= autoCashoutValue.value) {
                            cashOut();
                            return;
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫—Ä–∞—à
                        if (currentMultiplier.value >= crashPoint.value) {
                            crashGame();
                        }
                    }, 50);
                    
                    // –°–ª—É—á–∞–π–Ω—ã–π –∫—Ä–∞—à (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
                    const randomCrashTime = 5000 + Math.random() * 10000; // 5-15 —Å–µ–∫—É–Ω–¥
                    crashTimeout = setTimeout(() => {
                        if (gameActive.value) {
                            crashGame();
                        }
                    }, randomCrashTime);
                    
                    saveGameState();
                };
                
                // –†—É—á–Ω–æ–π –≤—ã–≤–æ–¥
                const cashOut = () => {
                    if (!gameActive.value) return;
                    
                    clearInterval(gameInterval);
                    clearTimeout(crashTimeout);
                    
                    const profit = betAmount.value * (currentMultiplier.value - 1);
                    balance.value += betAmount.value + profit;
                    totalProfit.value += profit;
                    
                    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
                    addToHistory(currentMultiplier.value, profit);
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –≤—ã–∏–≥—Ä—ã—à–µ
                    if (profit > betAmount.value * 5) {
                        showConfettiAnimation();
                    }
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                    lastGameProfit.value = profit;
                    lastGameMultiplier.value = currentMultiplier.value;
                    showResultModal.value = true;
                    
                    gameActive.value = false;
                    gamesPlayed.value++;
                    
                    saveGameState();
                };
                
                // –ö—Ä–∞—à –∏–≥—Ä—ã
                const crashGame = () => {
                    if (!gameActive.value) return;
                    
                    clearInterval(gameInterval);
                    clearTimeout(crashTimeout);
                    
                    const profit = -betAmount.value;
                    totalProfit.value += profit;
                    
                    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
                    addToHistory(currentMultiplier.value, profit);
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                    lastGameProfit.value = profit;
                    lastGameMultiplier.value = currentMultiplier.value;
                    showResultModal.value = true;
                    
                    crashed.value = true;
                    gameActive.value = false;
                    gamesPlayed.value++;
                    
                    saveGameState();
                };
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ–≤—ã–≤–æ–¥–∞
                const setAutoCashout = () => {
                    if (autoCashoutValue.value > 1 && autoCashoutValue.value <= 100) {
                        autoCashoutActive.value = true;
                        alert(`–ê–≤—Ç–æ–≤—ã–≤–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ ${autoCashoutValue.value}x`);
                    }
                };
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É–º–º—ã —Å—Ç–∞–≤–∫–∏
                const setBetAmount = (amount) => {
                    betAmount.value = amount;
                };
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
                const addToHistory = (multiplier, profit) => {
                    const now = new Date();
                    const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                    
                    gameHistory.value.push({
                        multiplier,
                        profit,
                        time: timeString,
                        timestamp: now.getTime()
                    });
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 100 –∑–∞–ø–∏—Å—è–º–∏
                    if (gameHistory.value.length > 100) {
                        gameHistory.value.shift();
                    }
                };
                
                // –°–±—Ä–æ—Å –∏–≥—Ä—ã
                const resetGame = () => {
                    showResultModal.value = false;
                    
                    if (balance.value <= 0) {
                        balance.value = 1000;
                        gamesPlayed.value = 0;
                        totalProfit.value = 0;
                        maxMultiplier.value = 0;
                        gameHistory.value = [];
                        alert('–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –¥–æ 1000 ‚ÇΩ!');
                    }
                    
                    saveGameState();
                };
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                const showConfettiAnimation = () => {
                    showConfetti.value = true;
                    
                    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã
                    const colors = ['#ff4081', '#ffd700', '#00e676', '#2196f3', '#9c27b0'];
                    
                    for (let i = 0; i < 150; i++) {
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.style.left = Math.random() * 100 + 'vw';
                        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.width = Math.random() * 10 + 5 + 'px';
                        confetti.style.height = Math.random() * 10 + 5 + 'px';
                        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                        confetti.style.animation = `confetti ${Math.random() * 3 + 2}s linear forwards`;
                        confetti.style.animationDelay = Math.random() * 1 + 's';
                        
                        document.body.appendChild(confetti);
                        
                        // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                        setTimeout(() => {
                            confetti.remove();
                        }, 5000);
                    }
                    
                    setTimeout(() => {
                        showConfetti.value = false;
                    }, 3000);
                };
                
                // –°–∏–º—É–ª—è—Ü–∏—è –∫—Ä–∞—à–∞ (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
                const simulateCrash = () => {
                    if (!gameActive.value) return;
                    crashGame();
                };
                
                // –ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏
                watch(betAmount, (newVal) => {
                    if (newVal < 10) betAmount.value = 10;
                    if (newVal > 10000) betAmount.value = 10000;
                    if (newVal > balance.value) betAmount.value = balance.value;
                    saveGameState();
                });
                
                watch(balance, saveGameState);
                
                return {
                    // –°–æ—Å—Ç–æ—è–Ω–∏–µ
                    balance,
                    betAmount,
                    gameActive,
                    crashed,
                    currentMultiplier,
                    crashPoint,
                    chartHeight,
                    multiplierAnimation,
                    
                    // –ê–≤—Ç–æ–≤—ã–≤–æ–¥
                    autoCashoutValue,
                    autoCashoutActive,
                    
                    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    gamesPlayed,
                    maxMultiplier,
                    totalProfit,
                    
                    // –ò—Å—Ç–æ—Ä–∏—è
                    gameHistory,
                    
                    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                    showResultModal,
                    lastGameProfit,
                    lastGameMultiplier,
                    
                    // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
                    showConfetti,
                    
                    // –ú–µ—Ç–æ–¥—ã
                    startGame,
                    cashOut,
                    setAutoCashout,
                    setBetAmount,
                    resetGame,
                    simulateCrash
                };
            }
        }).mount('#app');
    </script>
</body>
</html>