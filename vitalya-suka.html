<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–∑–∏–Ω–æ –û–ª–∏–º–ø—É—Å - –°–ª–æ—Ç 5x4</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0a0a2a 0%, #1a1a3a 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 2px solid #c5a151;
        }
        
        .logo {
            font-family: 'Cinzel', serif;
            font-size: 2.8rem;
            color: #c5a151;
            text-shadow: 0 0 10px rgba(197, 161, 81, 0.7);
            margin-bottom: 5px;
        }
        
        .subtitle {
            color: #aaa;
            font-size: 1.1rem;
        }
        
        .player-info {
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border: 1px solid #333;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .balance {
            font-size: 1.5rem;
            color: #4CAF50;
            font-weight: bold;
        }
        
        .bonus-info {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .free-spins {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .bet-control {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .bet-amount {
            font-size: 1.3rem;
            color: #c5a151;
            min-width: 140px;
        }
        
        button {
            background: #c5a151;
            color: #000;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 45px;
        }
        
        button:hover:not(:disabled) {
            background: #d4b15e;
            transform: scale(1.05);
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .game-area {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
        }
        
        .slot-machine {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #c5a151;
            position: relative;
        }
        
        .slot-title {
            color: #FFD700;
            margin-bottom: 10px;
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
        }
        
        .slot-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 8px;
            margin: 20px auto;
            max-width: 700px;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 12px;
            border: 2px solid rgba(197, 161, 81, 0.5);
        }
        
        .slot-cell {
            width: 70px;
            height: 70px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(197, 161, 81, 0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            transition: all 0.3s;
            position: relative;
        }
        
        .slot-cell.win {
            background: rgba(76, 175, 80, 0.4);
            border-color: #4CAF50;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.7);
            z-index: 2;
        }
        
        .slot-cell.scatter {
            background: rgba(255, 215, 0, 0.3);
            border-color: #FFD700;
        }
        
        .slot-cell.wild {
            background: rgba(156, 39, 176, 0.3);
            border-color: #9C27B0;
        }
        
        .slot-cell.bonus {
            background: rgba(33, 150, 243, 0.3);
            border-color: #2196F3;
        }
        
        .reel {
            display: contents;
        }
        
        .reel.spinning .slot-cell {
            animation: reelSpin 0.1s linear infinite;
        }
        
        @keyframes reelSpin {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        
        .spin-controls {
            margin: 25px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .spin-btn {
            font-size: 1.3rem;
            padding: 15px 40px;
            background: linear-gradient(135deg, #c5a151, #e6c87e);
            min-width: 180px;
        }
        
        .spin-btn.bonus-active {
            background: linear-gradient(135deg, #FF5722, #FF9800);
            animation: glowing 2s infinite;
        }
        
        @keyframes glowing {
            0% { box-shadow: 0 0 10px #FF5722; }
            50% { box-shadow: 0 0 20px #FF9800; }
            100% { box-shadow: 0 0 10px #FF5722; }
        }
        
        .auto-spin-btn {
            background: linear-gradient(135deg, #2196F3, #21CBF3);
        }
        
        .lines-info {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
            align-items: center;
        }
        
        .line-count {
            font-size: 1.2rem;
            color: #c5a151;
            font-weight: bold;
        }
        
        .win-lines-display {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
            max-height: 80px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }
        
        .win-line {
            background: rgba(76, 175, 80, 0.3);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
            border: 1px solid #4CAF50;
        }
        
        .results {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            border: 1px solid #333;
        }
        
        .win-display {
            font-size: 2rem;
            color: #FFD700;
            text-shadow: 0 0 10px #FFD700;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .bonus-feature {
            background: linear-gradient(135deg, #9C27B0, #673AB7);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            animation: glow 2s infinite;
            border: 2px solid #FFD700;
        }
        
        @keyframes glow {
            0% { box-shadow: 0 0 15px #9C27B0; }
            50% { box-shadow: 0 0 25px #673AB7; }
            100% { box-shadow: 0 0 15px #9C27B0; }
        }
        
        .info-panel {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #c5a151;
        }
        
        .paytable {
            margin-bottom: 20px;
        }
        
        .paytable h3 {
            color: #c5a151;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .paytable-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        
        .paytable-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .paytable-item:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .paytable-symbol {
            font-size: 2rem;
            margin-bottom: 5px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .paytable-multiplier {
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .paytable-info {
            color: #aaa;
            font-size: 0.8rem;
            margin-top: 3px;
        }
        
        .history {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .history h3 {
            color: #c5a151;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .history-item {
            padding: 10px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .win {
            color: #4CAF50;
            font-weight: bold;
        }
        
        .loss {
            color: #f44336;
        }
        
        .history-lines {
            font-size: 0.8rem;
            color: #aaa;
        }
        
        @media (max-width: 1100px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .slot-cell {
                width: 60px;
                height: 60px;
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 768px) {
            .player-info {
                flex-direction: column;
                text-align: center;
            }
            
            .slot-cell {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .spin-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .spin-btn {
                width: 100%;
                max-width: 300px;
            }
        }
        
        @media (max-width: 480px) {
            .slot-cell {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .slot-grid {
                gap: 5px;
                padding: 10px;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—ã–∏–≥—Ä—ã—à–∞ */
        @keyframes winFlash {
            0%, 100% { background-color: rgba(76, 175, 80, 0.4); }
            50% { background-color: rgba(76, 175, 80, 0.8); }
        }
        
        .winning-line {
            position: absolute;
            pointer-events: none;
            z-index: 1;
        }
        
        .line-pattern {
            position: absolute;
            background: rgba(255, 215, 0, 0.3);
            border: 2px dashed #FFD700;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="app" class="container">
        <header>
            <h1 class="logo">OLYMPUS SLOTS</h1>
            <p class="subtitle">–°–ª–æ—Ç 5x4 —Å 10 –ª–∏–Ω–∏—è–º–∏ –≤—ã–ø–ª–∞—Ç –∏ –±–æ–Ω—É—Å–Ω—ã–º–∏ –≤—Ä–∞—â–µ–Ω–∏—è–º–∏</p>
        </header>
        
        <div class="player-info">
            <div>
                <div style="color: #aaa; font-size: 0.9rem;">–ò–≥—Ä–æ–∫</div>
                <div class="balance">{{ formatCurrency(balance) }}</div>
            </div>
            
            <div class="bonus-info">
                <div v-if="freeSpins > 0" class="free-spins">
                    <i class="fas fa-gift"></i>
                    {{ freeSpins }} –ë–ï–°–ü–õ–ê–¢–ù–´–• –í–†–ê–©–ï–ù–ò–ô
                </div>
                <div style="font-size: 1.1rem; color: #c5a151;">
                    –û–±—â–∞—è —Å—Ç–∞–≤–∫–∞: {{ formatCurrency(totalBet) }}
                </div>
            </div>
            
            <div class="bet-control">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <button @click="changeBet(-10)" :disabled="bet <= 10">-10</button>
                    <button @click="changeBet(-1)" :disabled="bet <= 1">-1</button>
                    <div class="bet-amount">–°—Ç–∞–≤–∫–∞: {{ formatCurrency(bet) }}</div>
                    <button @click="changeBet(1)">+1</button>
                    <button @click="changeBet(10)">+10</button>
                    <button @click="bet = Math.min(100, balance/10)" style="background: #2196F3;">–ú–ê–ö–°</button>
                </div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="slot-machine">
                <h2 class="slot-title">‚ö° –ì–†–û–ú –ó–ï–í–°–ê ‚ö°</h2>
                <p style="color: #aaa; margin-bottom: 15px;">–°–µ—Ç–∫–∞ 5x4 | 10 –ª–∏–Ω–∏–π –≤—ã–ø–ª–∞—Ç | –ë–æ–Ω—É—Å–Ω—ã–µ –≤—Ä–∞—â–µ–Ω–∏—è</p>
                
                <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ 5x4 -->
                <div class="slot-grid">
                    <div 
                        v-for="(cell, index) in grid" 
                        :key="index"
                        class="slot-cell"
                        :class="{
                            win: winningCells.includes(index),
                            scatter: cell.type === 'scatter',
                            wild: cell.type === 'wild',
                            bonus: cell.type === 'bonus'
                        }"
                    >
                        {{ cell.symbol }}
                    </div>
                </div>
                
                <!-- –õ–∏–Ω–∏–∏ –≤—ã–ø–ª–∞—Ç -->
                <div class="lines-info">
                    <div class="line-count">–ê–∫—Ç–∏–≤–Ω—ã–µ –ª–∏–Ω–∏–∏: {{ activeLines }}/10</div>
                    <div style="display: flex; gap: 5px;">
                        <button @click="changeLines(-1)" :disabled="activeLines <= 1">-1</button>
                        <button @click="changeLines(1)" :disabled="activeLines >= 10">+1</button>
                        <button @click="activeLines = 10" style="background: #2196F3;">–í–°–ï</button>
                    </div>
                </div>
                
                <!-- –í—ã–∏–≥—Ä—ã—à–Ω—ã–µ –ª–∏–Ω–∏–∏ -->
                <div class="win-lines-display" v-if="winningLines.length > 0">
                    <div v-for="line in winningLines" :key="line.index" class="win-line">
                        –õ–∏–Ω–∏—è {{ line.index + 1 }}: +{{ formatCurrency(line.win) }}
                    </div>
                </div>
                
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏–µ–º -->
                <div class="spin-controls">
                    <button 
                        class="spin-btn" 
                        :class="{ 'bonus-active': freeSpins > 0 }"
                        @click="spin" 
                        :disabled="isSpinning || balance < totalBet"
                    >
                        <span v-if="isSpinning">
                            <i class="fas fa-spinner fa-spin"></i> –í–†–ê–©–ï–ù–ò–ï...
                        </span>
                        <span v-else-if="freeSpins > 0">
                            <i class="fas fa-gift"></i> –ë–ï–°–ü–õ–ê–¢–ù–û ({{ freeSpins }})
                        </span>
                        <span v-else>
                            <i class="fas fa-play"></i> –ö–†–£–¢–ò–¢–¨
                        </span>
                    </button>
                    
                    <button 
                        class="spin-btn auto-spin-btn"
                        @click="toggleAutoSpin"
                        :disabled="isSpinning || balance < totalBet"
                    >
                        <span v-if="autoSpinCount > 0">
                            <i class="fas fa-sync fa-spin"></i> –ê–í–¢–û ({{ autoSpinCount }})
                        </span>
                        <span v-else>
                            <i class="fas fa-sync"></i> –ê–í–¢–û–°–ü–ò–ù
                        </span>
                    </button>
                </div>
                
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Ä–∞—â–µ–Ω–∏—è -->
                <div class="results" v-if="lastWin > 0 || lastSpinResult">
                    <div v-if="lastWin > 0" class="win-display">
                        –í–´–ò–ì–†–´–®: {{ formatCurrency(lastWin) }}!
                    </div>
                    <div v-else style="color: #f44336; font-size: 1.2rem;">
                        –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!
                    </div>
                    <div v-if="winningLines.length > 0" style="margin-top: 10px; color: #4CAF50;">
                        –í—ã–∏–≥—Ä–∞–Ω–æ {{ winningLines.length }} –ª–∏–Ω–∏–π
                    </div>
                </div>
                
                <!-- –ë–æ–Ω—É—Å–Ω—ã–π —Ä–µ–∂–∏–º -->
                <div v-if="bonusMode" class="bonus-feature">
                    <h3><i class="fas fa-crown"></i> –ë–û–ù–£–°–ù–´–ô –†–ê–£–ù–î! <i class="fas fa-crown"></i></h3>
                    <p>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤—Ä–∞—â–µ–Ω–∏—è: {{ freeSpins }}</p>
                    <p>–ú–Ω–æ–∂–∏—Ç–µ–ª—å –≤—ã–∏–≥—Ä—ã—à–µ–π: x{{ bonusMultiplier }}</p>
                    <p>–û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–∞—â–µ–Ω–∏–π: {{ freeSpins }}</p>
                </div>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
            <div class="info-panel">
                <!-- –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç -->
                <div class="paytable">
                    <h3><i class="fas fa-coins"></i> –¢–ê–ë–õ–ò–¶–ê –í–´–ü–õ–ê–¢</h3>
                    <div class="paytable-grid">
                        <div class="paytable-item" v-for="symbol in paytable" :key="symbol.symbol">
                            <div class="paytable-symbol">{{ symbol.symbol }}</div>
                            <div>{{ symbol.name }}</div>
                            <div class="paytable-multiplier">x{{ symbol.multiplier3 }} - x{{ symbol.multiplier5 }}</div>
                            <div class="paytable-info">–∑–∞ 3-5 —Å–∏–º–≤–æ–ª–æ–≤</div>
                        </div>
                    </div>
                    <div style="margin-top: 15px; color: #FFD700; font-size: 0.9rem; text-align: center;">
                        üíé = –ë–æ–Ω—É—Å (3+ = 10 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≤—Ä–∞—â–µ–Ω–∏–π)<br>
                        üåü = –î–∏–∫–∏–π (–∑–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã)
                    </div>
                </div>
                
                <!-- –õ–∏–Ω–∏–∏ –≤—ã–ø–ª–∞—Ç -->
                <div style="margin: 20px 0;">
                    <h3 style="color: #c5a151; margin-bottom: 10px;">–õ–ò–ù–ò–ò –í–´–ü–õ–ê–¢ (10):</h3>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 5px; font-size: 0.9rem;">
                        <div v-for="(line, index) in winLines.slice(0, 10)" :key="index"
                             :style="{ 
                                 padding: '5px', 
                                 background: index < activeLines ? 'rgba(197, 161, 81, 0.2)' : 'rgba(255,255,255,0.05)',
                                 borderRadius: '5px',
                                 border: index < activeLines ? '1px solid #c5a151' : '1px solid transparent'
                             }">
                            –õ–∏–Ω–∏—è {{ index + 1 }}: {{ line.name }}
                        </div>
                    </div>
                </div>
                
                <!-- –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä -->
                <div class="history">
                    <h3><i class="fas fa-history"></i> –ò–°–¢–û–†–ò–Ø</h3>
                    <div v-for="(item, index) in gameHistory" :key="index" class="history-item">
                        <span>{{ item.time }}</span>
                        <span :class="item.win > 0 ? 'win' : 'loss'">
                            {{ item.win > 0 ? '+' + formatCurrency(item.win) : '-' + formatCurrency(item.bet) }}
                        </span>
                        <span class="history-lines">{{ item.lines }} –ª–∏–Ω.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted } = Vue;
        
        createApp({
            setup() {
                // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã
                const balance = ref(1000);
                const bet = ref(10);
                const activeLines = ref(10);
                const grid = ref([]);
                const isSpinning = ref(false);
                const lastWin = ref(0);
                const winningCells = ref([]);
                const winningLines = ref([]);
                const freeSpins = ref(0);
                const bonusMultiplier = ref(1);
                const bonusMode = ref(false);
                const autoSpinCount = ref(0);
                const gameHistory = ref([]);
                const lastSpinResult = ref(false);
                
                // –°–∏–º–≤–æ–ª—ã –¥–ª—è —Å–ª–æ—Ç–∞ 5x4
                const symbols = [
                    { symbol: '‚ö°', type: 'high', name: '–ó–µ–≤—Å' },
                    { symbol: 'ü¶â', type: 'high', name: '–ê—Ñ–∏–Ω–∞' },
                    { symbol: 'üåä', type: 'high', name: '–ü–æ—Å–µ–π–¥–æ–Ω' },
                    { symbol: 'üèõÔ∏è', type: 'medium', name: '–ü–∞—Ä—Ñ–µ–Ω–æ–Ω' },
                    { symbol: '‚öîÔ∏è', type: 'medium', name: '–ê—Ä–µ—Å' },
                    { symbol: 'üõ°Ô∏è', type: 'medium', name: '–ì–µ—Ä–∞' },
                    { symbol: 'üè∫', type: 'low', name: '–î–∏–æ–Ω–∏—Å' },
                    { symbol: 'üî•', type: 'low', name: '–ì–µ—Ñ–µ—Å—Ç' },
                    { symbol: 'üíé', type: 'scatter', name: '–ë–æ–Ω—É—Å' },
                    { symbol: 'üåü', type: 'wild', name: '–î–∏–∫–∏–π' }
                ];
                
                // –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç (–º–Ω–æ–∂–∏—Ç–µ–ª–∏ –¥–ª—è 3, 4, 5 —Å–∏–º–≤–æ–ª–æ–≤)
                const paytable = [
                    { symbol: '‚ö°', name: '–ó–µ–≤—Å', multiplier3: 5, multiplier4: 15, multiplier5: 50 },
                    { symbol: 'ü¶â', name: '–ê—Ñ–∏–Ω–∞', multiplier3: 4, multiplier4: 12, multiplier5: 40 },
                    { symbol: 'üåä', name: '–ü–æ—Å–µ–π–¥–æ–Ω', multiplier3: 3, multiplier4: 10, multiplier5: 30 },
                    { symbol: 'üèõÔ∏è', name: '–ü–∞—Ä—Ñ–µ–Ω–æ–Ω', multiplier3: 2, multiplier4: 8, multiplier5: 25 },
                    { symbol: '‚öîÔ∏è', name: '–ê—Ä–µ—Å', multiplier3: 2, multiplier4: 6, multiplier5: 20 },
                    { symbol: 'üõ°Ô∏è', name: '–ì–µ—Ä–∞', multiplier3: 1, multiplier4: 5, multiplier5: 15 },
                    { symbol: 'üè∫', name: '–î–∏–æ–Ω–∏—Å', multiplier3: 1, multiplier4: 4, multiplier5: 12 },
                    { symbol: 'üî•', name: '–ì–µ—Ñ–µ—Å—Ç', multiplier3: 1, multiplier4: 3, multiplier5: 10 },
                    { symbol: 'üíé', name: '–ë–æ–Ω—É—Å', multiplier3: 3, multiplier4: 10, multiplier5: 25 },
                    { symbol: 'üåü', name: '–î–∏–∫–∏–π', multiplier3: 5, multiplier4: 20, multiplier5: 100 }
                ];
                
                // 10 –ª–∏–Ω–∏–π –≤—ã–ø–ª–∞—Ç –¥–ª—è —Å–µ—Ç–∫–∏ 5x4
                const winLines = [
                    // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (3)
                    { name: "–õ–∏–Ω–∏—è 1 (–≤–µ—Ä—Ö)", pattern: [0, 1, 2, 3, 4] }, // –ü–µ—Ä–≤—ã–π —Ä—è–¥
                    { name: "–õ–∏–Ω–∏—è 2 (—Å–µ—Ä–µ–¥–∏–Ω–∞)", pattern: [5, 6, 7, 8, 9] }, // –í—Ç–æ—Ä–æ–π —Ä—è–¥
                    { name: "–õ–∏–Ω–∏—è 3 (–Ω–∏–∑)", pattern: [10, 11, 12, 13, 14] }, // –¢—Ä–µ—Ç–∏–π —Ä—è–¥
                    { name: "–õ–∏–Ω–∏—è 4 (–Ω–∏–∑+1)", pattern: [15, 16, 17, 18, 19] }, // –ß–µ—Ç–≤–µ—Ä—Ç—ã–π —Ä—è–¥
                    
                    // V-–æ–±—Ä–∞–∑–Ω—ã–µ –ª–∏–Ω–∏–∏ (3)
                    { name: "V-–æ–±—Ä–∞–∑–Ω–∞—è 1", pattern: [0, 6, 12, 8, 4] }, // V —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑
                    { name: "V-–æ–±—Ä–∞–∑–Ω–∞—è 2", pattern: [5, 11, 17, 13, 9] }, // V –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ
                    { name: "V-–æ–±—Ä–∞–∑–Ω–∞—è 3", pattern: [10, 16, 12, 8, 14] }, // V —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö
                    
                    // –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (4)
                    { name: "–î–∏–∞–≥–æ–Ω–∞–ª—å ‚Üò 1", pattern: [0, 6, 12, 18, 24] }, // –ì–ª–∞–≤–Ω–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å 1
                    { name: "–î–∏–∞–≥–æ–Ω–∞–ª—å ‚Üô 1", pattern: [4, 8, 12, 16, 20] }, // –ü–æ–±–æ—á–Ω–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å 1
                    { name: "–î–∏–∞–≥–æ–Ω–∞–ª—å ‚Üò 2", pattern: [1, 7, 13, 19, 25] }, // –ì–ª–∞–≤–Ω–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å 2
                    { name: "–î–∏–∞–≥–æ–Ω–∞–ª—å ‚Üô 2", pattern: [3, 7, 11, 15, 19] }  // –ü–æ–±–æ—á–Ω–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å 2
                ];
                
                // –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
                const totalBet = computed(() => bet.value * activeLines.value);
                
                // –ú–µ—Ç–æ–¥—ã
                const formatCurrency = (amount) => {
                    return amount.toLocaleString('ru-RU', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + ' ‚ÇΩ';
                };
                
                const changeBet = (amount) => {
                    const newBet = bet.value + amount;
                    if (newBet >= 1 && newBet <= 1000) {
                        bet.value = Math.max(1, Math.min(newBet, 1000));
                    }
                };
                
                const changeLines = (amount) => {
                    const newLines = activeLines.value + amount;
                    if (newLines >= 1 && newLines <= 10) {
                        activeLines.value = newLines;
                    }
                };
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏ 5x4 (20 —è—á–µ–µ–∫)
                const initializeGrid = () => {
                    const newGrid = [];
                    for (let i = 0; i < 20; i++) { // 5 –∫–æ–ª–æ–Ω–æ–∫ √ó 4 —Ä—è–¥–∞ = 20 —è—á–µ–µ–∫
                        const rand = Math.random();
                        let symbol;
                        if (rand < 0.02) symbol = { symbol: 'üíé', type: 'scatter' };
                        else if (rand < 0.05) symbol = { symbol: 'üåü', type: 'wild' };
                        else symbol = symbols[Math.floor(Math.random() * 8)];
                        newGrid.push(symbol);
                    }
                    grid.value = newGrid;
                };
                
                // –°–ª—É—á–∞–π–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–∫–∏
                const randomizeGrid = () => {
                    return grid.value.map(() => {
                        const rand = Math.random();
                        if (rand < 0.02) return { symbol: 'üíé', type: 'scatter' };
                        if (rand < 0.05) return { symbol: 'üåü', type: 'wild' };
                        return symbols[Math.floor(Math.random() * 8)];
                    });
                };
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö –ª–∏–Ω–∏–π
                const checkWinLines = (gridArray) => {
                    const wins = [];
                    const winningCellsSet = new Set();
                    let totalWin = 0;
                    
                    for (let lineIndex = 0; lineIndex < activeLines.value; lineIndex++) {
                        const line = winLines[lineIndex].pattern;
                        let firstSymbol = null;
                        let count = 0;
                        let wildCount = 0;
                        
                        for (let i = 0; i < line.length; i++) {
                            const cellIndex = line[i];
                            if (cellIndex >= gridArray.length) continue;
                            
                            const cell = gridArray[cellIndex];
                            
                            // –î–∏–∫–∏–π —Å–∏–º–≤–æ–ª
                            if (cell.symbol === 'üåü') {
                                wildCount++;
                                count++;
                                winningCellsSet.add(cellIndex);
                            }
                            // –û–±—ã—á–Ω—ã–π —Å–∏–º–≤–æ–ª
                            else {
                                if (!firstSymbol) {
                                    firstSymbol = cell.symbol;
                                    count++;
                                    winningCellsSet.add(cellIndex);
                                } else if (cell.symbol === firstSymbol) {
                                    count++;
                                    winningCellsSet.add(cellIndex);
                                } else {
                                    break;
                                }
                            }
                        }
                        
                        // –ï—Å–ª–∏ –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –¥–∏–∫–∏–µ
                        if (wildCount === count && count > 0) {
                            firstSymbol = 'üåü';
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–∏–≥—Ä—ã—à (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)
                        if (count >= 3 && firstSymbol) {
                            const paySymbol = paytable.find(s => s.symbol === firstSymbol);
                            if (paySymbol) {
                                let multiplier = 0;
                                if (count >= 5) multiplier = paySymbol.multiplier5;
                                else if (count >= 4) multiplier = paySymbol.multiplier4;
                                else if (count >= 3) multiplier = paySymbol.multiplier3;
                                
                                // –ü—Ä–∏–º–µ–Ω—è–µ–º –±–æ–Ω—É—Å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                multiplier *= bonusMultiplier.value;
                                
                                if (multiplier > 0) {
                                    const winAmount = bet.value * multiplier;
                                    totalWin += winAmount;
                                    wins.push({ 
                                        index: lineIndex, 
                                        count, 
                                        symbol: firstSymbol, 
                                        win: winAmount 
                                    });
                                }
                            }
                        }
                    }
                    
                    return { 
                        wins, 
                        totalWin, 
                        winningCells: Array.from(winningCellsSet) 
                    };
                };
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ–Ω—É—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (—Å–∫–∞—Ç—Ç–µ—Ä–æ–≤)
                const checkBonus = (gridArray) => {
                    const scatterCount = gridArray.filter(cell => cell.symbol === 'üíé').length;
                    
                    if (scatterCount >= 3) {
                        const freeSpinsAwarded = 10; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≤—Ä–∞—â–µ–Ω–∏–π
                        freeSpins.value += freeSpinsAwarded;
                        bonusMode.value = true;
                        bonusMultiplier.value = 2; // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –≤ –±–æ–Ω—É—Å–Ω–æ–º —Ä–∞—É–Ω–¥–µ
                        
                        return {
                            trigger: true,
                            count: freeSpinsAwarded,
                            multiplier: bonusMultiplier.value
                        };
                    }
                    
                    return { trigger: false };
                };
                
                // –û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ
                const spin = () => {
                    if (isSpinning.value) return;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
                    if (freeSpins.value === 0 && balance.value < totalBet.value) {
                        alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!');
                        return;
                    }
                    
                    isSpinning.value = true;
                    winningCells.value = [];
                    winningLines.value = [];
                    lastWin.value = 0;
                    lastSpinResult.value = false;
                    
                    // –°–Ω–∏–º–∞–µ–º —Å—Ç–∞–≤–∫—É –µ—Å–ª–∏ –Ω–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤—Ä–∞—â–µ–Ω–∏—è
                    if (freeSpins.value === 0) {
                        balance.value -= totalBet.value;
                    } else {
                        freeSpins.value--;
                        if (freeSpins.value === 0) {
                            bonusMode.value = false;
                            bonusMultiplier.value = 1;
                        }
                    }
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
                    let spins = 0;
                    const spinInterval = setInterval(() => {
                        grid.value = randomizeGrid();
                        spins++;
                        
                        if (spins >= 15) {
                            clearInterval(spinInterval);
                            setTimeout(() => {
                                finishSpin();
                            }, 300);
                        }
                    }, 80);
                };
                
                // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏—è
                const finishSpin = () => {
                    const result = checkWinLines(grid.value);
                    const bonusResult = checkBonus(grid.value);
                    
                    let totalWin = result.totalWin;
                    winningCells.value = result.winningCells;
                    winningLines.value = result.wins;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à
                    if (totalWin > 0) {
                        balance.value += totalWin;
                        lastWin.value = totalWin;
                        lastSpinResult.value = true;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                    const now = new Date();
                    const timeString = `${now.getHours().toString().padStart(2, '0')}:${                            now.getMinutes().toString().padStart(2, '0')}`;
                    
                    gameHistory.value.unshift({
                        time: timeString,
                        bet: freeSpins.value > 0 ? 0 : totalBet.value,
                        win: totalWin,
                        lines: activeLines.value,
                        bonus: bonusResult.trigger
                    });
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
                    if (gameHistory.value.length > 15) {
                        gameHistory.value = gameHistory.value.slice(0, 15);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–æ–Ω—É—Å
                    if (bonusResult.trigger) {
                        setTimeout(() => {
                            alert(`üéâ –ë–û–ù–£–°! –í—ã –ø–æ–ª—É—á–∏–ª–∏ ${bonusResult.count} –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≤—Ä–∞—â–µ–Ω–∏–π —Å –º–Ω–æ–∂–∏—Ç–µ–ª–µ–º x${bonusResult.multiplier}!`);
                        }, 500);
                    }
                    
                    isSpinning.value = false;
                    lastSpinResult.value = true;
                    
                    // –ê–≤—Ç–æ—Å–ø–∏–Ω
                    if (autoSpinCount.value > 0 && (balance.value >= totalBet.value || freeSpins.value > 0)) {
                        autoSpinCount.value--;
                        setTimeout(spin, 1500);
                    }
                };
                
                // –ê–≤—Ç–æ—Å–ø–∏–Ω
                const toggleAutoSpin = () => {
                    if (autoSpinCount.value === 0) {
                        autoSpinCount.value = 10;
                        if (!isSpinning.value) {
                            spin();
                        }
                    } else {
                        autoSpinCount.value = 0;
                    }
                };
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
                onMounted(() => {
                    initializeGrid();
                    
                    // –ù–∞—á–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
                    const now = new Date();
                    for (let i = 0; i < 5; i++) {
                        const time = new Date(now.getTime() - i * 600000);
                        const timeString = `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;
                        
                        gameHistory.value.push({
                            time: timeString,
                            bet: 10,
                            win: Math.random() > 0.6 ? Math.floor(Math.random() * 200) + 10 : 0,
                            lines: 10,
                            bonus: Math.random() > 0.9
                        });
                    }
                });
                
                return {
                    balance,
                    bet,
                    activeLines,
                    grid,
                    isSpinning,
                    lastWin,
                    winningCells,
                    winningLines,
                    freeSpins,
                    bonusMultiplier,
                    bonusMode,
                    autoSpinCount,
                    gameHistory,
                    lastSpinResult,
                    totalBet,
                    paytable,
                    winLines,
                    formatCurrency,
                    changeBet,
                    changeLines,
                    spin,
                    toggleAutoSpin
                };
            }
        }).mount('#app');
    </script>
</body>
</html>