<!DOCTYPE html>
<html>
<head>
    <title>—à–ª—é—Ö–æ–≤ –ö–∞–∑–∏–Ω–æ</title>
    <script src="https://unpkg.com/vue@2/dist/vue.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <h1>üé∞ –ö–∞–∑–∏–Ω–æ –°–ª–æ—Ç—ã üé∞</h1>
        
        <div class="balance-info">
            <h2>–ë–∞–ª–∞–Ω—Å: {{ balance }} ‚ÇΩ</h2>
            <h2>–¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞: {{ currentBet }} ‚ÇΩ</h2>
        </div>
        
        <div class="bet-controls">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–≤–∫—É:</h3>
            <button 
                v-for="bet in availableBets" 
                :key="bet"
                @click="setBet(bet)"
                :class="{ 'current-bet': currentBet === bet }"
                class="bet-btn"
                :disabled="spinning || balance < bet">
                {{ bet }} ‚ÇΩ
            </button>
        </div>
        
        <div class="slot-machine">
            <div class="slots">
                <div class="slot">
                    <img :src="slots[0]" alt="–°–ª–æ—Ç 1">
                </div>
                <div class="slot">
                    <img :src="slots[1]" alt="–°–ª–æ—Ç 2">
                </div>
                <div class="slot">
                    <img :src="slots[2]" alt="–°–ª–æ—Ç 3">
                </div>
            </div>
            
            <button @click="spin" :disabled="spinning || balance < currentBet">
                {{ spinning ? '–ö—Ä—É—Ç–∏–º...' : `–ö—Ä—É—Ç–∏—Ç—å –∑–∞ ${currentBet} ‚ÇΩ!` }}
            </button>
        </div>
        
        <div class="result" :class="{ 'win': isWin }">
            {{ resultMessage }}
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                images: [
                    './img/photo1.jpg',     // –í–∏—à–Ω—è
                    './img/photo2.jpg',      // –õ–∏–º–æ–Ω  
                    './img/photo3.jpg'       // –°–µ–º—ë—Ä–∫–∞
                ],
                slots: ['./img/photo1.jpg', './img/photo2.jpg', './img/photo3.jpg'],
                spinning: false,
                balance: 1000,
                currentBet: 10,
                availableBets: [10, 25, 50, 100, 250],
                resultMessage: '–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–≤–∫—É –∏ –∫—Ä—É—Ç–∏—Ç–µ!'
            },
            computed: {
                isWin() {
                    return this.slots[0] === this.slots[1] && 
                           this.slots[1] === this.slots[2];
                },
                winMultiplier() {
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
                    if (this.slots[0] === this.slots[1] && this.slots[1] === this.slots[2]) {
                        // –í—Å–µ —Ç—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ - –±–æ–ª—å—à–æ–π –≤—ã–∏–≥—Ä—ã—à
                        return 5;
                    } else if (this.slots[0] === this.slots[1] || 
                              this.slots[1] === this.slots[2] || 
                              this.slots[0] === this.slots[2]) {
                        // –î–≤–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ - –º–∞–ª–µ–Ω—å–∫–∏–π –≤—ã–∏–≥—Ä—ã—à
                        return 2;
                    }
                    return 0;
                }
            },
            methods: {
                setBet(bet) {
                    this.currentBet = bet;
                    this.resultMessage = `–°—Ç–∞–≤–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: ${bet} ‚ÇΩ`;
                },
                
                spin() {
                    if (this.balance < this.currentBet) {
                        this.resultMessage = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!';
                        return;
                    }
                    
                    this.spinning = true;
                    this.balance -= this.currentBet;
                    this.resultMessage = '–ö—Ä—É—Ç–∏–º...';
                    
                    let spins = 0;
                    const maxSpins = 10;
                    const spinInterval = setInterval(() => {
                        for (let i = 0; i < 3; i++) {
                            const randomIndex = Math.floor(Math.random() * this.images.length);
                            this.$set(this.slots, i, this.images[randomIndex]);
                        }
                        spins++;
                        
                        if (spins >= maxSpins) {
                            clearInterval(spinInterval);
                            this.finishSpin();
                        }
                    }, 100);
                },
                
                finishSpin() {
                    this.spinning = false;
                    
                    const winAmount = this.currentBet * this.winMultiplier;
                    
                    if (this.winMultiplier > 0) {
                        this.balance += winAmount;
                        if (this.winMultiplier === 5) {
                            this.resultMessage = `üéâ –î–ñ–ï–ö–ü–û–¢! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} ‚ÇΩ!`;
                        } else {
                            this.resultMessage = `üéâ –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} ‚ÇΩ!`;
                        }
                    } else {
                        this.resultMessage = 'üò¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!';
                    }
                }
            }
        });
    </script>
</body>
</html> 